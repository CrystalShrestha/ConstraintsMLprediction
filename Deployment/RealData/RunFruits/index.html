<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>Fruits â€” Apple & Banana (ONNX in Browser)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <link rel="stylesheet" href="style.css">
  <script src="https://cdn.jsdelivr.net/npm/onnxruntime-web/dist/ort.min.js"></script>
</head>
<body>
<header>
  <h1>Fruits â€” Apple & Banana (PyTorch â†’ ONNX â†’ Browser)</h1>
  <p>Inputs have built-in min/max checks. Serve via localhost or GitHub Pages (not file:///).</p>
</header>

<main>
  <section class="card">
    <h2>Task</h2>
    <div class="toolbar">
      <label>Model
        <select id="task">
          <option value="apple_reg">ğŸ Apple â€” Regression (Weight)</option>
          <option value="banana_clf">ğŸŒ Banana â€” Classification (Quality)</option>
        </select>
      </label>

      <label id="thrwrap" style="display:none">
        Threshold <span id="thv">0.50</span>
        <input id="thr" type="range" min="0" max="1" step="0.01" value="0.5">
      </label>

      <div class="buttons">
        <button id="btnPredict" disabled>Predict</button>
        <button id="btnReset" class="ghost" type="button">Reset</button>
      </div>
    </div>
  </section>

  <section class="card">
    <h2>Inputs</h2>

    <!-- APPLE FORM (6 features) -->
    <form id="form_apple" class="grid">
      <div class="inputbox">
        <label for="a_size">Size (cm)</label>
        <input id="a_size" data-name="Size" type="number" required step="0.1" min="3" max="12" value="6.0">
      </div>
      <div class="inputbox">
        <label for="a_sweet">Sweetness (0â€“10)</label>
        <input id="a_sweet" data-name="Sweetness" type="number" required step="0.1" min="0" max="10" value="5.0">
      </div>
      <div class="inputbox">
        <label for="a_crunch">Crunchiness (0â€“10)</label>
        <input id="a_crunch" data-name="Crunchiness" type="number" required step="0.1" min="0" max="10" value="5.0">
      </div>
      <div class="inputbox">
        <label for="a_juice">Juiciness (0â€“10)</label>
        <input id="a_juice" data-name="Juiciness" type="number" required step="0.1" min="0" max="10" value="5.0">
      </div>
      <div class="inputbox">
        <label for="a_ripe">Ripeness (0â€“10)</label>
        <input id="a_ripe" data-name="Ripeness" type="number" required step="0.1" min="0" max="10" value="3.0">
      </div>
      <div class="inputbox">
        <label for="a_acid">Acidity (pH)</label>
        <input id="a_acid" data-name="Acidity" type="number" required step="0.01" min="2.5" max="5.0" value="3.5">
      </div>
    </form>

    <!-- BANANA FORM (now 6 features; last is a placeholder until you know the real 6th) -->
    <form id="form_banana" class="grid" style="display:none">
      <div class="inputbox">
        <label for="b_diam">Diameter (cm)</label>
        <input id="b_diam" data-name="Diameter" type="number" required step="0.1" min="2.0" max="5.0" value="3.6">
      </div>
      <div class="inputbox">
        <label for="b_len">Length (cm)</label>
        <input id="b_len" data-name="Length" type="number" required step="0.1" min="10" max="25" value="18.0">
      </div>
      <div class="inputbox">
        <label for="b_firm">Firmness (N)</label>
        <input id="b_firm" data-name="Firmness" type="number" required step="0.1" min="10" max="80" value="40">
      </div>
      <div class="inputbox">
        <label for="b_sugar">Sugar (%)</label>
        <input id="b_sugar" data-name="Sugar" type="number" required step="0.1" min="5" max="30" value="15">
      </div>
      <div class="inputbox">
        <label for="b_acid">Acidity (pH)</label>
        <input id="b_acid" data-name="Acidity" type="number" required step="0.01" min="3.0" max="5.5" value="4.2">
      </div>
      <!-- Placeholder sixth feature so the UI has 6; rename data-name and label later to your real feature -->
      <div class="inputbox">
        <label for="b_feat6">Yellowness</label>
        <input id="b_feat6" data-name="Yellowness" type="number" required step="0.1" min="0" max="10" value="1.0">
      </div>
    </form>

    <pre id="out">Loading modelsâ€¦</pre>
  </section>

  <section class="card">
    <h2>Notes</h2>
    <ul>
      <li>If the app shows a â€œNote: â€¦â€ line, it auto-matched the modelâ€™s input size (padded/truncated or identity scaling).</li>
      <li>Serve via a local server or GitHub Pages so fetch() works.</li>
    </ul>
  </section>
</main>

<footer><small>GitHub Pages Â· onnxruntime-web</small></footer>
<script src="app.js"></script>
</body>
</html>
